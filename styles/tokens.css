/* ============================================================
   PROTOCOLO BUSSOLA - DESIGN TOKENS UNIFICADOS
   Substitui: styles/designTokens.css + tokens legados de ui.css
   ============================================================ */

:root {
  /* === PRIMARIA INSTITUCIONAL === */
  --color-primary:       #1E4DA1;
  --color-primary-hover: #163A7A;

  /* === SEMANTICAS (4 grupos) === */
  --color-emergency:     #DC2626; /* Emergencia */
  --color-urgent:        #D97706; /* Urgencia / Atencao */
  --color-support:       #2563EB; /* Acolhimento / Informacao */
  --color-neutral:       #64748B; /* Informativo / Leve */

  /* === MAPEAMENTO DOS 13 DOMINIOS -> 4 GRUPOS ===
     Protecao, Violacao de Direitos           -> --color-emergency
     Comportamento Grave                      -> --color-emergency
     Saude Mental, Saude Fisica               -> --color-urgent
     Uso de Substancias, Gravidez             -> --color-urgent
     Vulnerabilidade Familiar, Social         -> --color-urgent
     Pedagogico, Conflitos                    -> --color-support
     Discriminacao                            -> --color-support
     Gestao / Institucional                   -> --color-neutral
  */

  /* === SUPERFICIES === */
  --bg:            #F4F6FA;
  --surface:       #FFFFFF;
  --surface-muted: #F8FAFC;

  /* === NEUTROS (escala 5) === */
  --gray-50:  #F8FAFC;
  --gray-200: #E2E8F0;
  --gray-400: #94A3B8;
  --gray-600: #475569;
  --gray-900: #1E293B;

  /* === BORDA === */
  --border:       #E2E8F0;
  --border-focus: #1E4DA1;

  /* === TIPOGRAFIA (escala 5 tokens) === */
  --font-family: 'Inter', sans-serif;
  --text-h1:      1.5rem;
  --text-h2:      1.15rem;
  --text-h3:      1rem;
  --text-body:    0.9375rem;
  --text-caption: 0.8125rem;

  /* === PESOS === */
  --fw-regular:  400;
  --fw-medium:   500;
  --fw-semibold: 600;
  --fw-bold:     700;

  /* === SOMBRAS (discretas) === */
  --shadow-1:     0 1px 3px rgba(0,0,0,0.08);
  --shadow-2:     0 4px 12px rgba(0,0,0,0.10);
  --shadow-modal: 0 8px 32px rgba(0,0,0,0.16);

  /* === RADIUS (3 valores) === */
  --radius-sm: 8px;
  --radius-md: 12px;
  --radius-lg: 16px;

  /* === ESPACAMENTOS === */
  --space-xs: 4px;
  --space-sm: 8px;
  --space-md: 16px;
  --space-lg: 24px;
  --space-xl: 32px;

  /* === TRANSICOES === */
  --transition-fast:   150ms ease;
  --transition-normal: 200ms ease;

  /* === Z-INDEX === */
  --z-base:    1;
  --z-card:    10;
  --z-overlay: 100;
  --z-modal:   500;
  --z-a11y:    1000;
  --z-header:  200;

  /* ── ALIASES DE COMPATIBILIDADE (migração gradual) ── */
  /* Remover progressivamente conforme patches I-B e I-C eliminam os usos */

  /* Semânticos legados */
  --danger:         var(--color-emergency);
  --warning:        var(--color-urgent);
  --success:        #16A34A;
  --info:           var(--color-support);
  --primary:        var(--color-primary);

  /* Texto legado */
  --text:           var(--gray-900);
  --text-muted:     var(--gray-600);

  /* Superfície legada */
  --surface-strong: var(--surface-muted, var(--gray-50));
  --bg-end:         var(--bg);   /* neutraliza gradiente */

  /* Glass legado */
  --glass-blur:     10px;
  --glass-bg:       rgba(255, 255, 255, 0.75);

  /* Radius legado */
  --radius-xl:      var(--radius-lg);
  --radius-pill:    9999px;

  /* Z-index hierarquia definitiva (SUBSTITUI valores anteriores) */
  --z-base:         1;
  --z-card:         10;
  --z-sticky:       50;
  --z-header:       200;
  --z-overlay:      300;
  --z-modal:        900;
  --z-toast:        1200;
  --z-a11y:         1600;

  /* ── TOKENS DE DOMÍNIO (faixa lateral domain-card-strip) ── */
  /* Fonte: Codex PATCH 11 — mapeia 13 domínios para 4 grupos semânticos */
  --domain-protecao:            var(--color-emergency);
  --domain-violacao-direitos:   var(--color-emergency);
  --domain-comportamento-grave: var(--color-emergency);
  --domain-saude-mental:        var(--color-urgent);
  --domain-substancias:         var(--color-urgent);
  --domain-gravidez:            var(--color-urgent);
  --domain-saude-fisica:        var(--color-urgent);
  --domain-vulnerabilidade:     var(--color-urgent);
  --domain-discriminacao:       var(--color-support);
  --domain-pedagogico:          var(--color-support);
  --domain-inclusao:            var(--color-support);
  --domain-conflitos:           var(--color-support);
  --domain-evasao:              var(--color-neutral);

  /* Caption com contraste WCAG AA (5.74:1 sobre --bg) */
  --text-caption-color:         var(--gray-600);
}

/* Dark mode */
[data-theme='dark'] {
  --bg:           #0F172A;
  --surface:      #1E293B;
  --surface-muted: #0F172A;
  --border:       #334155;
  --gray-900:     #F1F5F9;
  --gray-600:     #94A3B8;
  --gray-400:     #475569;
  --glass-bg:     rgba(30, 41, 59, 0.75);
}

/* Alta legibilidade */
[data-contrast='high'] {
  --border: #94A3B8;
  --color-primary: #1E3A8A;
}
